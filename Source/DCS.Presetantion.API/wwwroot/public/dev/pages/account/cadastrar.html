<br /><br />
<h3>Criar Conta</h3>

<form class="form-horizontal" name="usuarioForm" ng-submit="vm.submit()" novalidate>
    <fieldset>
        <div class="panel panel-default">
            <div class="panel-body">
                
                <div class="form-group"
                     ng-class="{ 'has-error' : usuarioForm.nome.$invalid && usuarioForm.nome.$dirty }">
                    <label for="nome" class="col-lg-1 control-label">Nome *</label>
                    <div class="col-lg-11">
                        <input ng-model="vm.usuario.nome"
                               ng-minlength="6"
                               ng-maxlength="150"
                               class="form-control"
                               id="nome"
                               name="nome"
                               placeholder=""
                               type="text"
                               required>
                        <div ng-show="usuarioForm.nome.$invalid && usuarioForm.nome.$dirty"
                             class="alert alert-danger">
                            Nome inválido
                        </div>
                    </div>
                </div>
                
                <div class="form-group"
                     ng-class="{ 'has-error' : usuarioForm.email.$invalid && usuarioForm.email.$dirty }">
                    <label for="email" class="col-lg-1 control-label">Email *</label>
                    <div class="col-lg-11">
                        <input ng-model="vm.usuario.email"
                               ng-minlength="6"
                               ng-maxlength="150"
                               class="form-control"
                               id="email"
                               name="email"
                               placeholder=""
                               type="email"
                               required>
                        <div ng-show="usuarioForm.email.$invalid && usuarioForm.email.$dirty"
                             class="alert alert-danger">
                            E-mail inválido
                        </div>
                    </div>
                </div>

                <div class="form-group"
                     ng-class="{ 'has-error' : usuarioForm.senha.$invalid && usuarioForm.senha.$dirty }">
                    <label for="senha" class="col-lg-1 control-label">Senha *</label>
                    <div class="col-lg-11">
                        <input ng-model="vm.usuario.senha"
                               ng-minlength="6"
                               ng-maxlength="20"
                               class="form-control"
                               id="senha"
                               name="senha"
                               placeholder=""
                               type="password"
                               required>
                        <div ng-show="usuarioForm.senha.$invalid && usuarioForm.senha.$dirty"
                             class="alert alert-danger">
                            Senha inválida
                        </div>
                    </div>
                </div>

                <h4>Telefones</h4>
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>DDD</th>
                            <th>Número</th>
                            <th>#</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="form-group"
                                     ng-class="{ 'has-error' : usuarioForm.ddd.$invalid && usuarioForm.ddd.$dirty }">
                                    <div class="col-lg-10">
                                        <input ng-model="vm.telefone.ddd"
                                               ng-minlength="2"
                                               ng-maxlength="2"
                                               class="form-control"
                                               id="ddd"
                                               name="ddd"
                                               placeholder="DDD"
                                               type="number">
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="form-group"
                                     ng-class="{ 'has-error' : usuarioForm.numero.$invalid && usuarioForm.numero.$dirty }">
                                    <div class="col-lg-10">
                                        <input ng-model="vm.telefone.numero"
                                               ng-minlength="8"
                                               ng-maxlength="9"
                                               class="form-control"
                                               id="numero"
                                               name="numero"
                                               placeholder="Número"
                                               type="number">
                                    </div>
                                </div>
                            </td>
                            <td>
                                <button type="button"
                                        ng-disabled="usuarioForm.ddd.$invalid || !usuarioForm.ddd.$dirty || usuarioForm.numero.$invalid || !usuarioForm.numero.$dirty"
                                        class="btn btn-primary"
                                        ng-click="vm.adicionarTelefone()">
                                    Adicionar
                                </button>
                            </td>
                        </tr>
                        <tr ng-repeat="telefone in vm.listaTelefones">
                            <td>{{telefone.ddd}}</td>
                            <td>{{telefone.numero}}</td>
                            <td class="text-center">
                                <div class="button-group">
                                    <button type="button" class="btn btn-danger btn-sm"
                                            ng-click="vm.removerTelefone(telefone)">
                                        <i class="fa fa-remove"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="form-group">
            <div class="col-lg-12">
                <a href="#/login" class="btn btn-default">Cancelar</a>
                <button ng-disabled="usuarioForm.$invalid || !usuarioForm.$dirty"
                        type="submit" class="btn btn-primary">
                    Cadastrar
                </button>
            </div>
        </div>
    </fieldset>
</form>